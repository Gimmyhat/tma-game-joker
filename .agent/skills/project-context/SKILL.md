---
name: project-context
description: –ü—Ä–æ—Ç–æ–∫–æ–ª –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç –∏ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
---

# üéØ Project Context Protocol

–≠—Ç–æ—Ç skill –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ –≤ –ø—Ä–æ–µ–∫—Ç –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

## üìñ ONBOARDING (–°—Ç–∞—Ä—Ç —Å–µ—Å—Å–∏–∏)

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –≤—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –®–∞–≥ 1: –ü—Ä–æ—á–∏—Ç–∞–π –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã (–≤ —ç—Ç–æ–º –ø–æ—Ä—è–¥–∫–µ)

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –§–∞–π–ª | –ß—Ç–æ —É–∑–Ω–∞–µ—à—å |
|-----------|------|-------------|
| üî¥ MUST | `PROGRESS.md` | –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å, —á—Ç–æ —Å–¥–µ–ª–∞–Ω–æ, —á—Ç–æ –≤ —Ä–∞–±–æ—Ç–µ |
| üî¥ MUST | `AGENTS.md` | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞, code map |
| üü° SHOULD | `TOR.md` (—Å–µ–∫—Ü–∏–∏ 1-4) | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è, acceptance criteria |
| üü¢ MAY | `OPEN_QUESTIONS.md` | –ù–µ—Ä–µ—à—ë–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –±–ª–æ–∫–µ—Ä—ã |

### –®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–∏ —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É

1. –ü–æ—Å–º–æ—Ç—Ä–∏ `PROGRESS.md` ‚Üí —Å–µ–∫—Ü–∏—è **"–¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å"**
2. –ù–∞–π–¥–∏ –ø–µ—Ä–≤—É—é –Ω–µ–∑–∞–∫—Ä—ã—Ç—É—é –∑–∞–¥–∞—á—É `[ ]` –∏–ª–∏ `[/]`
3. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É ‚Äî –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –æ–Ω–∞ –≤ scope (–µ—Å—Ç—å –≤ TOR)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å PROGRESS.md

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å —á—Ç–æ PROGRESS.md:
- ‚ùå –ù–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è >24 —á–∞—Å–æ–≤ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- ‚ùå –°–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è —Å –∫–æ–¥–æ–º
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–µ–∫—Ü–∏—è "–¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å"

‚Üí **–°–ù–ê–ß–ê–õ–ê –æ–±–Ω–æ–≤–∏ PROGRESS.md**, –ø–æ—Ç–æ–º –ø—Ä–æ–¥–æ–ª–∂–∞–π —Ä–∞–±–æ—Ç—É.

---

## ‚úèÔ∏è –û–ë–ù–û–í–õ–ï–ù–ò–ï PROGRESS.md (–ö–†–ò–¢–ò–ß–ù–û)

### –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å (MUST)

- ‚úÖ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –õ–Æ–ë–û–ô –∑–∞–¥–∞—á–∏ –∏–∑ —á–µ–∫–ª–∏—Å—Ç–∞
- ‚úÖ –ü—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏: `[ ]` ‚Üí `[/]` ‚Üí `[x]`
- ‚úÖ –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –±–ª–æ–∫–µ—Ä–∞
- ‚úÖ –ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏ (–¥–∞–∂–µ –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞ –Ω–µ –∑–∞–∫–æ–Ω—á–µ–Ω–∞)
- ‚úÖ –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏ –≤ Session Log

```markdown
## [YYYY-MM-DD HH:MM] - [Agent Name]

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ
- ‚úÖ [Task ID] –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- üîÑ [Task ID] –ß—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å %

### –ë–ª–æ–∫–µ—Ä—ã
- ‚ùå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã ‚Äî —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- [ ] –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞ 1
- [ ] –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞ 2
```

### –ü—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

1. **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å**: –û–¥–Ω–∞ –∑–∞–ø–∏—Å—å = –æ–¥–Ω–∞ —Å–µ—Å—Å–∏—è —Ä–∞–±–æ—Ç—ã
2. **–ö–æ–Ω–∫—Ä–µ—Ç–∏–∫–∞**: –ù–µ "–ø–æ—Ä–∞–±–æ—Ç–∞–ª –Ω–∞–¥ frontend", –∞ "—Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç"
3. **Task ID**: –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å—Å—ã–ª–∞–π—Å—è –Ω–∞ ID –∏–∑ —Å–ø—Ä–∏–Ω—Ç–æ–≤ (S3-12, REQ-4 –∏ —Ç.–¥.)
4. **–ß–µ—Å—Ç–Ω–æ—Å—Ç—å**: –ï—Å–ª–∏ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª ‚Äî –ø–∏—à–∏ —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å, –Ω–µ 100%

---

## üö´ –ê–ù–¢–ò-–ü–ê–¢–¢–ï–†–ù–´

### –ù–ï –¥–µ–ª–∞–π —ç—Ç–æ:

- ‚ùå –ù–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É –±–µ–∑ —á—Ç–µ–Ω–∏—è PROGRESS.md
- ‚ùå –ó–∞–≤–µ—Ä—à–∞—Ç—å —Å–µ—Å—Å–∏—é –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è PROGRESS.md
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ `@joker/shared`
- ‚ùå –ö–ª–∞—Å—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ Gateway (—Ç–æ–ª—å–∫–æ transport)
- ‚ùå –ú—É—Ç–∏—Ä–æ–≤–∞—Ç—å gameStore –Ω–∞–ø—Ä—è–º—É—é (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ socket events)
- ‚ùå –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `GAME_CONSTANTS`)

### –°–¢–û–ü-—Å–∏–≥–Ω–∞–ª—ã (–ø—Ä–µ–∫—Ä–∞—Ç–∏ —Ä–∞–±–æ—Ç—É –∏ —Å–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é):

- üõë –ó–∞–¥–∞—á–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å TOR.md
- üõë –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ `@joker/shared` –∫–æ—Ç–æ—Ä–æ–µ —Å–ª–æ–º–∞–µ—Ç backend
- üõë –û–±–Ω–∞—Ä—É–∂–µ–Ω –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ
- üõë –ù–µ—Ç —è—Å–Ω–æ—Å—Ç–∏ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö (–ø—Ä–æ–≤–µ—Ä—å OPEN_QUESTIONS.md)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Quick Reference)

```
tma_game_joker/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ frontend/          # React 18 + Vite + Zustand + TailwindCSS
‚îÇ   ‚îî‚îÄ‚îÄ backend/           # NestJS + Socket.io + Redis
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îî‚îÄ‚îÄ shared/            # @joker/shared - –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–∏–ª
‚îú‚îÄ‚îÄ docs/                  # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ docker-compose*.yml    # Dev –∏ prod –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

### –ì–¥–µ –∏—Å–∫–∞—Ç—å –∫–æ–¥

| –ó–∞–¥–∞—á–∞ | –ü—É—Ç—å |
|--------|------|
| –¢–∏–ø—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã | `packages/shared/src/index.ts` |
| –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ | `packages/shared/src/logic/` |
| Backend orchestration | `apps/backend/src/game/services/` |
| Frontend state | `apps/frontend/src/store/` |
| WebSocket events | `apps/frontend/src/lib/socket.ts` |
| Bot AI | `apps/backend/src/bot/` |

---

## üîß –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫
pnpm install              # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pnpm dev                  # Frontend + Backend –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
docker compose up -d      # Redis (–¥–ª—è state persistence)

# –¢–µ—Å—Ç—ã
pnpm test                 # –í—Å–µ —Ç–µ—Å—Ç—ã
pnpm test:backend         # Backend unit tests

# –°–±–æ—Ä–∫–∞
pnpm build                # –í—Å–µ –ø–∞–∫–µ—Ç—ã
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

–ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã —É–±–µ–¥–∏—Å—å:

- [ ] PROGRESS.md –æ–±–Ω–æ–≤–ª—ë–Ω —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Å–µ—Å—Å–∏–∏
- [ ] –í—Å–µ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
- [ ] –ù–µ—Ç –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö TODO –≤ –∫–æ–¥–µ –±–µ–∑ issue/task
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (–¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)

**–ò—Å–ø–æ–ª—å–∑—É–π workflow `/session-end` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.**
